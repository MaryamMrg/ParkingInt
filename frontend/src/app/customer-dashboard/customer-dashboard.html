

<main class="main-content">
    <div class="welcome-section">
        <h1 class="welcome-title">Hi {{ customername }}</h1>
        <p class="welcome-subtitle">Park your car easily 🚗</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-container">
        <p>Loading parking locations...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="errorMessage" class="error-container">
        <p class="error-message">{{ errorMessage }}</p>
        <button (click)="loadParkings()" class="retry-btn">Retry</button>
    </div>

    <!-- Parking Grid -->
    <div *ngIf="!loading && !errorMessage" class="parking-grid">
        <div *ngFor="let parking of parkings" class="parking-card">
            <div class="parking-header">
                <div>
                    <h3 class="parking-name">{{ parking.P_name}}</h3>
                </div>
                <div class="parking-icon">🏢</div>
            </div>
                             
            <div class="parking-stats">
                <div class="stat-item">
                    <div class="stat-value">{{ parking.capacity }}</div>
                    <div class="stat-label">Places</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">{{ parking.opening_hours }}</div>
                    <div class="stat-label">Min</div>
                </div>
              
            </div>
             
            <div class="availability-bar">
                <div class="availability-fill" 
                     [style.width.%]="getAvailabilityPercentage(parking)"></div>
            </div>
             
            <div style="margin-bottom: 15px;">
                <span class="status-badge" 
                      [ngClass]="getStatusClass(parking)">
                    {{ getStatusText(parking) }}
                </span>
            </div>
             
            <div class="parking-actions">
                <button class="action-btn" (click)="viewDetails(parking)">
                    View Details
                </button>
                <button class="action-btn primary pulse" 
                        (click)="reserveNow(parking)"
                        [disabled]="!isParkingAvailable(parking)">
                    Reserve Now
                </button>
            </div>
        </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && !errorMessage && parkings.length === 0" class="empty-state">
        <p>No parking locations found.</p>
        <button (click)="loadParkings()" class="retry-btn">Refresh</button>
    </div>
</main>